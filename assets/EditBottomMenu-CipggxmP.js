import{G as C,aR as y,n as x,j as u}from"./index-BirL1DeV.js";import{b as I,d as l,P as p}from"./InvoiceStatus-BUfEMt-8.js";import{C as b}from"./CancelButton-fzfTMpzT.js";import{M as E,c as g,i as w}from"./defaultValues-BYVhgimm.js";import{u as v}from"./SlidingMenu-BvxVGajx.js";import{a as S}from"./utilityFunctions-BhPDxbxW.js";import{u as j}from"./ReactToastify-mJQ9ADjW.js";import"./editPageStyles-BSnjQR3W.js";import"./create-visual-element-NcukZ5ps.js";const U=()=>{const[o]=j(y,{update:(e,{data:{editInvoice:t}})=>{e.writeQuery({query:C,variables:{getInvoiceById:t.id},data:{getInvoiceById:t}})},onError:e=>{console.error(e)}});return{handleUpdateInvoice:async e=>{try{await o({variables:{...e}})}catch(t){console.error(t)}}}},O=()=>{const{id:o}=x(),{startDate:s,setIsNewInvoiceOpen:e,selectedPaymentOption:t,methods:a,setIsCacheActive:n}=I(),r=v("cachedEditForm"),{trigger:i}=a,{handleUpdateInvoice:c}=U();return{onSubmitUpdate:async h=>{if(await i()){const d=S(h,s,t);d.id=String(o),d.status="pending";try{await c(d),r.clearCache(),n(!1),e(!1)}catch(f){console.error(f)}}}}};function T({saveText:o,closeText:s,justifyCancel:e}){const{reset:t}=l(),{setIsNewInvoiceOpen:a,setIsCacheActive:n}=I(),r=v("cachedEditForm"),i=()=>{a(!1),r.clearCache(),n(!1),t(w)},{handleSubmit:c}=l(),{onSubmitUpdate:m}=O();return u.jsxs(E,{children:[u.jsx(b,{handleClick:i,text:s,justifySelf:e}),u.jsx(g,{type:"button",value:o,onClick:c(m)})]})}T.propTypes={saveText:p.string.isRequired,closeText:p.string.isRequired};export{T as default};
